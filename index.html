<!DOCTYPE html>
<html>
<head>
    <title><%= htmlWebpackPlugin.options.title %></title>
</head>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald">
<body>

<ink-article>

    <ink-var name="x" value="1"></ink-var>
    <ink-var name="y" value="5"></ink-var>
    <ink-var name="xSquared" :value="x * x" description="The square of x."></ink-var>

<h1>Ink Components</h1>
<p>
    The goal of <code>ink.js</code> is to provide a number of web-components for interactive scientific writing.
</p>
<h2>Why?</h2>
<p>
    The goal of <code>ink.js</code> is to make it easier to write interactive scientific writing.
</p>

<h2>Overview</h2>
<p>Check out the table of contents on the right, or scroll on:</p>
<dl>
  <dt><a href="#dynamic-content">Dynamic Content</a></dt><dd>Variables (e.g. $x=$ <ink-display name="x"></ink-display>) and ways to change them using inline components (e.g. <ink-range name="x"></ink-range> or <ink-dynamic name="x"></ink-dynamic>).</dd>
  <dt><a href="#text-content">Text Content</a></dt><dd>Equations, code, figures, asides, call-outs and more.</dd>
  <dt><a href="#charts">Charts</a></dt><dd>TODO</dd>
  <dt><a href="#extensions">Extensions</a></dt><dd>TODO</dd>
</dl>

<hr>

<h2>Getting started</h2>
<p>Ink is based on <a href="https://www.webcomponents.org/" target="_blank">web components</a>, which create custom HTML tags so that they can make writing documents easier. To get started, copy the built javascript file to the head of your page.</p>

<ink-code copy compact>
    &lt;script src="/path/to/ink.js"&gt;&lt;/script&gt;
</ink-code>

<ink-callout class="danger"><strong>Note:</strong> This should be installable through <code>npm</code></ink-callout>



<hr>
<h2>Dynamic Content</h2>

<ink-demo>
    <ink-scope name="demoVars">
        <ink-var name="x" value="2"></ink-var>
        <ink-var name="y" value="4"></ink-var>
        <ink-var name="xy" :value="x * y"></ink-var>
        If we have ranges for two variables:<br>
        X: <ink-range name="x"></ink-range>, which is <ink-display name="x"></ink-display><br>
        Y: <ink-range name="y"></ink-range>, which is <ink-display name="y"></ink-display><br>
        Or you can set the value directly in the text for X <ink-dynamic name="x"></ink-dynamic> and Y <ink-dynamic name="y"></ink-dynamic>.<br>
        The product of X and Y is <ink-display name="xy"></ink-display>.
    </ink-scope>
</ink-demo>


<h3>Variables</h3>
<ink-callout class="danger"><strong>TODO:</strong> These should be able to reference a different <code>ink-scope</code></ink-callout>
<ink-callout class="danger"><strong>TODO:</strong> Format should be a default and pulled through to other variables.</ink-callout>


<ink-aside>
    This document has variables:
    <ink-var-list></ink-var-list>
</ink-aside>
<p>
    Variables need to be defined to drive your dynamic document, the <code>ink-var</code> web component can specify a name, description and a value.
</p>

<ink-code language="html" compact>&lt;ink-var name="x" value="1"&gt;&lt;/ink-var&gt;</ink-code>

<p>
    These variables are hidden in the <code>DOM</code>, you can use a <code>ink-var-list</code> to see them all.
</p>

<h3>Reactive Variables</h3>

<p>
    You can also create reactive variables which get execute a user-inputed string in an <code>iframe</code> with access to all other variables. Note here that the <code>:value</code> has a <emph>semi-colon</emph> to show that this should be executed to define the value.
</p>

<ink-code language="html" compact>&lt;ink-var name="xSquared" :value="x * x"&gt;&lt;/ink-var&gt;</ink-code>

<ink-callout class="info">
    Properties of <code>ink-var</code>:
    <dl>
      <dt><code>name</code></dt><dd>The variable to name to in the state, must follow javascript naming conventions for variables.</dd>
      <dt><code>description</code></dt><dd>The variable description, useful for alt-text.</dd>
      <dt><code>value</code></dt><dd>The value of the variable.</dd>
      <dt><code>:value</code></dt><dd>Function to evaluate to update the value. If present, this will update the value anytime the state is changed.</dd>
      <dt><code>format</code></dt><dd>A d3-format string. See the <a href="https://github.com/d3/d3-format" target="_blank">documentation</a>.</dd>
    </dl>
</ink-callout>

<hr class="small">

<h3>Display Variables</h3>

<p>To display an element create an <code>ink-display</code>, which will just render the named variable as text.</p>

<ink-code language="html" compact>&lt;ink-display name="x"&gt;&lt;/ink-display&gt;</ink-code>

<p>
    This is a number that is dynamic: <ink-display name="x"></ink-display>.<br>
    Try setting the value of $x$ with the range input: <ink-range name="x" max="5"></ink-range>
</p>

<ink-callout class="info">
    Properties of <code>ink-display</code>:
    <dl>
      <dt><code>name</code></dt><dd>The variable to name to in the state.</dd>
      <dt><code>format</code></dt><dd>A d3-format string. See the <a href="https://github.com/d3/d3-format" target="_blank">documentation</a>.</dd>
    </dl>
</ink-callout>

<hr class="small">

<h3>Controlling Variables</h3>

<p>What gets slightly more exciting is when you can bring these together with inputs that can be ranges or dynamic text elements that you can drag.</p>

<ink-code language="html" compact>&lt;ink-dynamic name="x"&gt;&lt;/ink-dynamic&gt;</ink-code>

<p>
    This allows you to set the value of $x$ inline: <ink-dynamic name="x"></ink-dynamic> or $y=$<ink-dynamic name="y"></ink-dynamic>.<br>Notice how it is linked to the above <code>ink-range</code> and <code>ink-display</code>.
</p>
<p>
    You can also create ranges, as see above, notice that we can create a lot of these and name to different values.
</p>

<ink-code language="html" compact>&lt;ink-range name="x"&gt;&lt;/ink-range&gt;</ink-code>
<p>
    $x_{1.0}:$ <ink-range name="x"></ink-range><br>
    $x_{0.5}:$ <ink-range name="x" step="0.5"></ink-range><br>
    $y_{1.0}:$ <ink-range name="y"></ink-range><br>
</p>


<ink-callout class="info">
    <strong>Properties:</strong>
    <dl>
      <dt><code>name</code></dt><dd>The variable to name to in the state.</dd>
      <dt><code>format</code></dt><dd>A d3-format string. See the <a href="https://github.com/d3/d3-format" target="_blank">documentation</a>.</dd>
      <dt><code>min</code></dt><dd>Minimum of the range.</dd>
      <dt><code>max</code></dt><dd>Maximum of the range.</dd>
      <dt><code>step</code></dt><dd>Step size.</dd>
      <dt><code>sensitivity</code></dt><dd>Multiplier on pixels dragged for the <code>dynamic</code> text input.</dd>
    </dl>
</ink-callout>

<hr>

<h2>Text Content</h2>

<h3>Equations</h3>

<ink-demo>
    <ink-equation>
        x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}
    </ink-equation>
</ink-demo>

<p>Use the <code>eqn.math</code> property to change the math dynamically:</p>

<ink-demo>
    Drag me to expand the Taylor Series: <input type="range" min="1" max="4" value="1" id="taylor-slider">
    <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", function(event) {
            var eqn = document.getElementById("taylor");
            var slider = document.getElementById("taylor-slider");
            var taylor = [
                "f(x) \\approx f(a)",
                "\\frac {f'(a)}{1!} (x-a)",
                "\\frac{f''(a)}{2!} (x-a)^2",
                "\\frac{f^{(3)}(a)}{3!}(x-a)^3"
            ];
            slider.oninput = function() {
                eqn.math = taylor.slice(0, this.value).join(' + ') + ' + \\cdots';
            }
        });
    </script>
    <ink-equation id="taylor">
        f(x) \approx f(a) \cdots
    </ink-equation>
</ink-demo>



<h3>Code and demos</h3>

<ink-demo>
    <ink-code language="python">
        &gt;&gt;&gt; import numpy as np
        &gt;&gt;&gt; a = np.arange(15).reshape(3, 5)
        &gt;&gt;&gt; a
        array([[ 0,  1,  2,  3,  4],
               [ 5,  6,  7,  8,  9],
               [10, 11, 12, 13, 14]])
    </ink-code>
</ink-demo>

<p>Most of the content on this page uses the <code>&lt;ink-demo&gt;</code> component:</p>

<ink-demo>
    <ink-demo>
        <p>This is a demo of a demo!!</p>
    </ink-demo>
</ink-demo>



<h3>Figures</h3>

<ink-demo>
    <ink-figure img-src="https://raw.githubusercontent.com/simpeg/tle-finitevolume/master/images/FiniteVolume.png">
      Setup of a DC resistivity survey.
    </ink-figure>
</ink-demo>


<h3>Asides</h3>
<p>
    Ink has <a href="https://edwardtufte.github.io/tufte-css/" target="_blank">Tufte style sidenotes</a> to add sarcastic or poignant insights.
    These asides can include figures and equations.
</p>

<ink-demo>
    <p>
        Sometimes you need to say things on the side.
        <ink-aside>
            Which is over here!
        </ink-aside>
    </p>
</ink-demo>


<ink-demo>
    <ink-callout class="danger">
        <strong>Warning</strong>: This may get peoples attention.
    </ink-callout>
</ink-demo>



<h3>Tiles</h3>

    <ink-card title="Website Redesign or a Really Long Title" description="Some ideas about the scholarly commons." img-src="http://localhost:8080/images/website/life.png" url="/on-my-website-2018" date="2018"></ink-card>

    And this is just text.
</ink-article>
</body>
</html>
