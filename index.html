<!DOCTYPE html>
<html>
<head>
    <title><%= htmlWebpackPlugin.options.title %></title>
</head>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans|Noto+Serif:400,400i,700,700i&display=swap" type="text/css" />
<body>
<article id="myArticle">
    <h1 id="welcome">Welcome to Ink Article</h1>
    <ink-outline for="myArticle"></ink-outline>
    <p>This is a paragraph, kinda simple. <code>code</code></p>
    <aside class="callout">Hello world</aside>

    <ink-scope name="display">
      <h2>Display Variables</h2>
      <ink-var name="x" value="1"></ink-var>
      <ink-var name="y" value="5"></ink-var>
      <ink-var name="xSquared" :value="x * x" description="The square of x."></ink-var>


      <p>To display an element create an <code>ink-display</code>, which will just render the named variable as text.</p>

      <ink-code language="html" compact>&lt;ink-display name="x"&gt;&lt;/ink-display&gt;</ink-code>

      <p>
        This is a number that is dynamic: <ink-display bind="x"></ink-display>.<br>
        Try setting the value of $x$ with the range input: <ink-range bind="x" max="5"></ink-range>
      </p>

      <p>
        You can also <code>transform</code> the value of a variable before you format it.
        For example, you might want to say that the admission to a park is <code>'free'</code> when the <ink-action
          :click="{x:0}">value == 0</ink-action>.
        </p>
        <aside><p>The <code>:transform</code> uses a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator">Conditional Operator</a> from javascript.</p></aside>
      <ink-demo>
        <p>
          The park admission is
          <ink-display :value="x" :transform="(value > 0)? value : 'free'" format="$.2f"></ink-display>.
        </p>
      </ink-demo>
      <p>
        You can also use this <code>transform</code> to say that the park admission is
        <ink-dynamic bind="x"
          :transform="['free','real cheap','cheap','costly','expensive','real expensive'][Math.min(Math.max(value,0),5)]"
          max="5"></ink-dynamic>.<br>
        This is also quite useful if you want to use the transform to index into an array <ink-dynamic bind="x"
          :transform="['&#128525;','&#128516;','&#128522;','&#128528;','&#128530;','&#128532;'][Math.min(Math.max(value,0),5)]"
          max="5"></ink-dynamic>, in this case emoji array - but it could be numeric too!
      </p>

      <aside class="callout">
        <p>
          Properties of <code>ink-display</code>:
          <dl>
            <dt><code>name</code></dt>
            <dd>The variable to name to in the state.</dd>
            <dt><code>format</code></dt>
            <dd>A d3-format string. See the <a href="https://github.com/d3/d3-format" target="_blank">documentation</a>.</dd>
            <dt><code>transform</code></dt>
            <dd>Allows you to change or transform the value before formating: <code>format(transform(value))</code>. If the
              value is a string after transformation, it will not be formatted.</dd>
          </dl>
        </p>
      </aside>

    </ink-scope>

    <h2>There is code</h2>
    <aside>The default aside happens, on the side!</aside>
    <ink-code language="python">
      >>> import numpy as np
      >>> a = np.arange(15).reshape(3, 5)
      >>> a
      array([[ 0,  1,  2,  3,  4],
            [ 5,  6,  7,  8,  9],
            [10, 11, 12, 13, 14]])
    </ink-code>

    <blockquote>
      <p>I would have written a shorter letter, but I did not have the time.</p>
      <footer>
        <cite>Blaise Pascal</cite>
        <time datetime="1656-12-04">December 4, 1656</time>
      </footer>
    </blockquote>

    <h2>And Equations</h2>
    <ink-demo>
      <script>
        function prod(x, y) {
          const prod = x * y;
          return prod;
        }
      </script>
      <ink-var name="x" value="5"></ink-var>
      <ink-var name="y" value="2"></ink-var>
      <ink-var name="prod" :value="prod(x, y)"></ink-var>
      <p>
        The product of
        <ink-dynamic bind="x"></ink-dynamic>
        and
        <ink-dynamic bind="y"></ink-dynamic>
        is
        <ink-display bind="prod"></ink-display>
      </p>
    </ink-demo>
    <ink-code language="javascript" copy>
    </ink-code>
    <ink-demo>
        <ink-var name="cookies" value="3" format=".4"></ink-var>
        <p>
            When you eat
            <ink-dynamic bind="cookies" min="2" max="100"> cookies</ink-dynamic>,
            you consume
            <ink-display :value="cookies * 50" format=".0f" /></ink-display>
            calories.
        </p>
    </ink-demo>

    <ink-demo>
      <ink-var name="index" value="1"></ink-var>
      <ink-var name="MrTaylor"
        :value="['f(x) \\approx f(a)', '\\frac {f^{\\prime}(a)}{1!} (x-a)', '\\frac{f^{\\prime\\prime}(a)}{2!} (x-a)^2', '\\frac{f^{(3)}(a)}{3!}(x-a)^3']">
      </ink-var>
      Drag me to expand the Taylor Series:
      <ink-range bind="index" min="1" max="4"></ink-range>
      <ink-equation :math="MrTaylor.slice(0, index).join(' + ') + ' + \\cdots'"></ink-equation>
    </ink-demo>

    <ink-demo>
      <ink-equation>
        x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}
      </ink-equation>
    </ink-demo>

    <h2>And Demos</h2>

    <h3>And something small</h3>
    <h4>And something smaller</h4>
    <h5>And something even smaller</h5>
    <h6>And something tiny</h6>
    <ink-demo>
      <ink-var name="m" value="1"></ink-var>
      <ink-var name="b" value="1"></ink-var>
      <ink-range bind="m" step="0.1" min="-10" max="10"></ink-range>
      <ink-range bind="b" step="0.1" min="-10" max="10"></ink-range>
      <ink-equation aligned>
        y &= m \times x + b \\
        y &=
          <ink-display :value="m==-1 || m == 0 || m == 1? '' : m" format=".0f"></ink-display>
          <ink-visible :visible="m == -1">-</ink-visible>
          <ink-visible :visible="m !== 0">x</ink-visible>
          <ink-display :value="b==0? '' : b" :format="m==0 ? '.0f' : '+.0f'">+1</ink-display>
          <ink-visible :visible="m == 0 && b ==0">0</ink-visible>
      </ink-equation>
    </ink-demo>
</article>
</body>
</html>
