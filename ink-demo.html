<link rel="import" href="bower_components/polymer/polymer-element.html">
<link rel="import" href="bower_components/polymer/lib/utils/flattened-nodes-observer.html">

<dom-module id="ink-demo">
  <template>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/xcode.min.css">
    <style>
      :host{
        display: block;
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
        margin-bottom: 40px;
      }
      #demo{
        padding: 25px;
        border-bottom: 1px solid #e0e0e0;
      }
    </style>
    <div id="demo"><slot></slot></div>
    <ink-code id="code" language="[[ language ]]" copy></ink-code>
  </template>

  <script>
    class InkDemo extends Polymer.Element {
      static get is() { return 'ink-demo'; }
      static get properties() {
        return {
          language: {
            type: String,
            value: 'html'
          }
        };
      }
      connectedCallback() {
        super.connectedCallback();
        this.$.code.code = this.$.code.trim(this.innerHTML);
        this._observer = new Polymer.FlattenedNodesObserver(this, (info) => {
          this.$.code.code = this.$.code.trim(this.innerHTML);
        });
      }
    }
    window.customElements.define(InkDemo.is, InkDemo);
  </script>
</dom-module>
