<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>ink-figure demo</title>

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>

    <link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">
    <link rel="import" href="../../iron-demo-helpers/demo-snippet.html">

    <link rel="import" href="../ink-code.html">
    <link rel="import" href="../ink-equation.html">



    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">

    <!-- Make sure you load katex -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-beta/katex.min.css" integrity="sha384-L/SNYu0HM7XECWBeshTGLluQO9uVI1tvkCtunuoUbCHHoTH76cDyXty69Bb9I0qZ" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-beta/katex.min.js" integrity="sha384-ad+n9lzhJjYgO67lARKETJH6WuQVDDlRfj81AJJSswMyMkXTD49wBj5EP004WOY6" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-beta/contrib/auto-render.min.js" crossorigin="anonymous"></script>

    <!-- Make sure you load code stuff -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>


    <custom-style>
      <style is="custom-style" include="demo-pages-shared-styles">
      </style>
    </custom-style>

  </head>
  <body>

    <div class="vertical-section-container centered">
      <h1>Ink equations</h1>
      <p> These should be done in the head of your page.</p>
      <ink-code>
&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-beta/katex.min.css" integrity="sha384-L/SNYu0HM7XECWBeshTGLluQO9uVI1tvkCtunuoUbCHHoTH76cDyXty69Bb9I0qZ" crossorigin="anonymous"&gt;
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-beta/katex.min.js" integrity="sha384-ad+n9lzhJjYgO67lARKETJH6WuQVDDlRfj81AJJSswMyMkXTD49wBj5EP004WOY6" crossorigin="anonymous"&gt;&lt;/script&gt;
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-beta/contrib/auto-render.min.js" crossorigin="anonymous"&gt;&lt;/script&gt;
      </ink-code>

      <p> The <code>&lt;ink-equation&gt;</code> can be used inline</p>

      <ink-equation style="zoom:0.7;">
          \begin{aligned}
          \overbrace{
              \left[
                  \frac{1}{\Delta t}
                  \frac{\partial \boldsymbol{\theta}^{n+1}}{\partial\boldsymbol{\psi}^{n+1}}
                  -\mathbf{D}
                  \text{ diag}\left( \mathbf{G} \boldsymbol{\psi}^{n+1} \right)
                  \frac{\partial \mathbf{k}_{Av}}{\partial\boldsymbol{\psi}^{n+1}}
                  -\mathbf{D}
                  \text{ diag}\left( \mathbf{k}_{Av}(\boldsymbol{\psi}^{n+1},\mathbf{m}) \right)
                  \mathbf{G}
                  - \mathbf{G}_{z}
                  \frac{\partial \mathbf{k}_{Av}}{\partial\boldsymbol{\psi}^{n+1}}
              \right]
          }^{\mathbf{A}_0(\boldsymbol{\psi}^{n+1})}
          \frac{\partial \boldsymbol{\psi}^{n+1}}{\partial\mathbf{m}}
          \\
          +
          \underbrace{
              \left[
                  -\frac{1}{\Delta t}
                  \frac{\partial \boldsymbol{\theta}^n}{\partial\boldsymbol{\psi}^n}
              \right]
          }_{\mathbf{A}_{-1}(\boldsymbol{\psi}^n)}
          \frac{\partial \boldsymbol{\psi}^n}{\partial\mathbf{m}}
          =
          \underbrace{
          \left[
              -\mathbf{D}
              \text{ diag}\left( \mathbf{G} \boldsymbol{\psi}^{n+1} \right)
              \frac{\partial \mathbf{k}_{Av}}{\partial\mathbf{m}}
              -\mathbf{G}_{z}
              \frac{\partial \mathbf{k}_{Av}}{\partial\mathbf{m}}
          \right]
          }_{\mathbf{B}(\psi^{n+1})}&
          \end{aligned}
      </ink-equation>

      <demo-snippet>
        <template>
          <ink-equation>
            x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}
          </ink-equation>
        </template>
      </demo-snippet>

      <p>You can also have inline $m_{a}^{th}$ if you auto render the document body.</p>

      <ink-code copy>
        document.addEventListener("DOMContentLoaded", function() {
          renderMathInElement(
              document.body,{
                  delimiters: [
                      {left: "$$", right: "$$", display: true},
                      {left: "\\[", right: "\\]", display: true},
                      {left: "$", right: "$", display: false},
                      {left: "\\(", right: "\\)", display: false}
                  ],
                  ignoredTags: ["script", "noscript", "style", "textarea", "pre", "code", "ink-code"]
              }
          );
        });
      </ink-code>

    </div>

    <script type="text/javascript">
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(
            document.body,{
                delimiters: [
                    {left: "$$", right: "$$", display: true},
                    {left: "\\[", right: "\\]", display: true},
                    {left: "$", right: "$", display: false},
                    {left: "\\(", right: "\\)", display: false}
                ],
                ignoredTags: ["script", "noscript", "style", "textarea", "pre", "code", "ink-code"]
            },
        );
      });
    </script>
  </body>
</html>
